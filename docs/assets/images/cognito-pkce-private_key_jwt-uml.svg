<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" style="background-color: rgb(18, 18, 18);" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1656px" height="2498px" viewBox="-0.5 -0.5 1656 2498" class="ge-export-svg-dark" content="&lt;mxfile modified=&quot;2024-09-30T11:51:49.167Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:130.0) Gecko/20100101 Firefox/130.0&quot; etag=&quot;m1_NyIpWVTFCDX_CrkIE&quot; version=&quot;21.7.4&quot; type=&quot;browser&quot;&gt;&lt;diagram id=&quot;kgpKYQtTHZ0yAKxKKP6v&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs><style type="text/css">svg.ge-export-svg-dark &gt; * { filter: invert(100%) hue-rotate(180deg); }&#xa;svg.ge-export-svg-dark image { filter: invert(100%) hue-rotate(180deg) }</style></defs><g><ellipse cx="16" cy="92" rx="5" ry="5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 16 97 L 16 113.67 M 16 100.33 L 6 100.33 M 16 100.33 L 26 100.33 M 16 113.67 L 6 127 M 16 113.67 L 26 127" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 16 127 L 16 2487" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 18px; height: 1px; padding-top: 130px; margin-left: 7px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); "><div style="display: inline-block; font-size: 12px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="background-color: rgb(255 , 255 , 255)">User Client</span></div></div></div></foreignObject><text x="16" y="142" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="12px" text-anchor="middle">Use...</text></switch></g><rect x="11" y="207" width="10" height="480" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><rect x="11" y="727" width="10" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><rect x="11" y="1006" width="10" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><rect x="11" y="1287" width="10" height="1200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><rect x="216" y="87" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 276 127 L 276 2487" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 107px; margin-left: 217px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: #FFFFFF; "><div style="display: inline-block; font-size: 12px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: normal; overflow-wrap: normal;">Cognito User Pool<br />Hosted UI</div></div></div></foreignObject><text x="276" y="111" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="12px" text-anchor="middle">Cognito User Pool...</text></switch></g><rect x="271" y="207" width="10" height="2280" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 26 1286 L 257.88 1286" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 264.88 1286 L 257.88 1289.5 L 257.88 1282.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1284px; margin-left: 38px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">follow redirect to<br />Cognito /oauth2/idpresponse</div></div></div></foreignObject><text x="38" y="1284" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="11px">follow redirect...</text></switch></g><path d="M 286 2407 L 336 2407 L 336 2447 L 294.12 2447" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 287.12 2447 L 294.12 2443.5 L 294.12 2450.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2427px; margin-left: 340px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">create / update user entry</div></div></div></foreignObject><text x="340" y="2430" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="11px">create / update user entry</text></switch></g><rect x="456" y="87" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 516 127 L 516 2447" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 107px; margin-left: 457px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: #FFFFFF; "><div style="display: inline-block; font-size: 12px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: normal; overflow-wrap: normal;">API Gateway</div></div></div></foreignObject><text x="516" y="111" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="12px" text-anchor="middle">API Gateway</text></switch></g><rect x="511" y="287" width="10" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><rect x="511" y="1047" width="10" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><rect x="511" y="1487" width="10" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><rect x="696" y="87" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 756 127 L 756 2447" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 107px; margin-left: 697px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: #FFFFFF; "><div style="display: inline-block; font-size: 12px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: normal; overflow-wrap: normal;">Lambda</div></div></div></foreignObject><text x="756" y="111" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="12px" text-anchor="middle">Lambda</text></switch></g><rect x="751" y="327" width="10" height="400" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><rect x="751" y="1087" width="10" height="160" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 766 1086 L 796 1086 L 796 1126 L 774.12 1126" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 767.12 1126 L 774.12 1122.5 L 774.12 1129.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1106px; margin-left: 800px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: #0000FF; background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 255); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">read original query <br />string parameters</div></div></div></foreignObject><text x="800" y="1109" fill="#0000FF" font-family="Amazon Ember" font-size="11px">read original query...</text></switch></g><rect x="751" y="1527" width="10" height="840" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 766 1719 L 796 1719 L 796 1759 L 774.12 1759" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 767.12 1759 L 774.12 1755.5 L 774.12 1762.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1739px; margin-left: 800px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: #00CC00; background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 204, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><font color="#009900">create private key JWT</font></div></div></div></foreignObject><text x="800" y="1742" fill="#00CC00" font-family="Amazon Ember" font-size="11px">create private key JWT</text></switch></g><path d="M 766 1799 L 796 1799 L 796 1839 L 774.12 1839" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 767.12 1839 L 774.12 1835.5 L 774.12 1842.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1819px; margin-left: 800px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">set &amp; add to body:<br /><b><font color="#0000ff">code_verifier=code_verifier</font></b><br /><font color="#00cc00"><b>client_assertion=private key JWT<br />client_assertion_type=:::::jwt-bearer</b></font><br />redirect_uri=API GW /callback</div></div></div></foreignObject><text x="800" y="1822" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="11px">set &amp; add to body:...</text></switch></g><path d="M 766 1879 L 796 1879 L 796 1919 L 774.12 1919" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 767.12 1919 L 774.12 1915.5 L 774.12 1922.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1899px; margin-left: 800px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: #232F3D; background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(35, 47, 61); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><font color="#000000">urlencode body</font></div></div></div></foreignObject><text x="800" y="1902" fill="#232F3D" font-family="Amazon Ember" font-size="11px">urlencode body</text></switch></g><rect x="936" y="87" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 996 127 L 996 2447" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 107px; margin-left: 937px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: #FFFFFF; "><div style="display: inline-block; font-size: 12px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: normal; overflow-wrap: normal;">DynamoDB</div></div></div></foreignObject><text x="996" y="111" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="12px" text-anchor="middle">DynamoDB</text></switch></g><path d="M 774.12 1165.98 L 977.88 1165.54" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 767.12 1166 L 774.11 1162.48 L 774.13 1169.48 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 984.88 1165.52 L 977.89 1169.04 L 977.87 1162.04 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1156px; margin-left: 876px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #0000FF; background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 255); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">get code_verifier with state</div></div></div></foreignObject><text x="876" y="1159" fill="#0000FF" font-family="Amazon Ember" font-size="11px" text-anchor="middle">get code_verifier with state</text></switch></g><rect x="991" y="522" width="10" height="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><rect x="991" y="1162" width="10" height="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><rect x="991" y="1203" width="10" height="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><rect x="991" y="1634" width="10" height="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><rect x="1176" y="87" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 1236 127 L 1236 2447" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 107px; margin-left: 1177px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: #FFFFFF; "><div style="display: inline-block; font-size: 12px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: normal; overflow-wrap: normal;">Secrets Manager</div></div></div></foreignObject><text x="1236" y="111" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="12px" text-anchor="middle">Secrets Manager</text></switch></g><rect x="1416" y="87" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 1476 127 L 1476 2447" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 107px; margin-left: 1417px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: #FFFFFF; "><div style="display: inline-block; font-size: 12px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: normal; overflow-wrap: normal;">OpenId Provider</div></div></div></foreignObject><text x="1476" y="111" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="12px" text-anchor="middle">OpenId Provider</text></switch></g><rect x="1471" y="767" width="10" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 1485.96 2247 L 1516 2247 L 1516 2287 L 1494.08 2287" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1487.08 2287 L 1494.08 2283.5 L 1494.08 2290.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2267px; margin-left: 1520px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: #00CC00; background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 204, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">verify private key JWT<br />with pre-shared<br />public key</div></div></div></foreignObject><text x="1520" y="2270" fill="#00CC00" font-family="Amazon Ember" font-size="11px">verify private key JWT...</text></switch></g><rect x="1471" y="2127" width="10" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 1485.96 2167 L 1516 2167 L 1516 2207 L 1494.08 2207" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1487.08 2207 L 1494.08 2203.5 L 1494.08 2210.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2187px; margin-left: 1520px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: #0000FF; background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 255); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">assert hash of code_verifier<br />with code_challenge</div></div></div></foreignObject><text x="1520" y="2190" fill="#0000FF" font-family="Amazon Ember" font-size="11px">assert hash of code_verifier...</text></switch></g><path d="M 26 208 L 257.88 208" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 264.88 208 L 257.88 211.5 L 257.88 204.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 205px; margin-left: 146px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Login with OpenId Provider</div></div></div></foreignObject><text x="146" y="205" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="11px" text-anchor="middle">Login with Open...</text></switch></g><path d="M 286 287 L 497.88 287" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 504.88 287 L 497.88 290.5 L 497.88 283.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 284px; margin-left: 308px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><b>GET API-GW/authorize?</b><br /><blockquote>client_id=&amp;<br style="font-size: 11px" />redirect_uri=&amp;<br style="font-size: 11px" />response_type=&amp;<br style="font-size: 11px" />scope=&amp;<span style="white-space: pre ; font-size: 11px">	</span><br style="font-size: 11px" />state=&amp;<br />auth_params<br /></blockquote><div style="text-align: center"><span style="">HTTP Request</span></div></div></div></div></foreignObject><text x="308" y="284" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="11px">GET API-GW/auth...</text></switch></g><path d="M 526 327 L 743.76 327" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 731.88 333.5 L 744.88 327 L 731.88 320.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 317px; margin-left: 636px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #0000FF; background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 255); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><font color="#000000">Trigger authorize function</font></div></div></div></foreignObject><text x="636" y="320" fill="#0000FF" font-family="Amazon Ember" font-size="11px" text-anchor="middle">Trigger authorize function</text></switch></g><path d="M 766 367 L 796 367 L 796 407 L 774.12 407" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 767.12 407 L 774.12 403.5 L 774.12 410.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 387px; margin-left: 800px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: #0000FF; background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 255); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><font color="#000000">read original query <br />string parameters</font></div></div></div></foreignObject><text x="800" y="390" fill="#0000FF" font-family="Amazon Ember" font-size="11px">read original query...</text></switch></g><path d="M 766 447 L 796 447 L 796 487 L 774.12 487" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 767.12 487 L 774.12 483.5 L 774.12 490.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 467px; margin-left: 800px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: #0000FF; background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 255); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">create code_verifier</div></div></div></foreignObject><text x="800" y="470" fill="#0000FF" font-family="Amazon Ember" font-size="11px">create code_verifier</text></switch></g><path d="M 766 527 L 977.88 527" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 984.88 527 L 977.88 530.5 L 977.88 523.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 524px; margin-left: 868px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #0000FF; background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 255); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">&lt;&lt;store state &amp; code_verifier&gt;&gt;</div></div></div></foreignObject><text x="868" y="524" fill="#0000FF" font-family="Amazon Ember" font-size="11px" text-anchor="middle">&lt;&lt;store state &amp;...</text></switch></g><path d="M 766 647 L 796 647 L 796 687 L 774.12 687" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 767.12 687 L 774.12 683.5 L 774.12 690.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 667px; margin-left: 800px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">set:<br /><font color="#009900"><b>redirect_uri=Cognito /oauth2/idpresponse</b></font><font color="#0000ff"><b><br /></b></font><b><u>or</u></b><br /><font color="#0000ff"><b>redirect_uri=API GW /callback<br />code_challenge=hashed verifier<br />code_challenge_method=S256</b></font></div></div></div></foreignObject><text x="800" y="670" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="11px">set:...</text></switch></g><path d="M 766 567 L 796 567 L 796 607 L 774.12 607" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 767.12 607 L 774.12 603.5 L 774.12 610.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 587px; margin-left: 800px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: #0000FF; background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 255); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">SHA256 hash code_verifier</div></div></div></foreignObject><text x="800" y="590" fill="#0000FF" font-family="Amazon Ember" font-size="11px">SHA256 hash code_verifier</text></switch></g><path d="M 756 727 L 28.24 727" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 36.12 722.5 L 27.12 727 L 36.12 731.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 724px; margin-left: 528px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">return HTTP status: 302 (redirect)<br />Location: OpenId Provider /authorize<br /><br /><span style=""><span>	</span>client_id=original&amp;</span><br style="" /><span style=""><span>	</span>response_type=original&amp;</span><br style="" /><span style="">	</span><span style=""><span>	</span>scope=original&amp;</span><span style="">	</span><br style="" /><span style="">	</span><span style=""><span>	</span>state=original&amp;<br />auth_params=original&amp;<br /></span><font color="#0000ff"><span style=""><span>	</span></span></font><span style="">redirect_uri=new&amp;</span><font color="#0000ff"><b><span style=""><br /></span><font>code_challenge=new&amp;<br />code_challenge_method=new</font></b></font></div></div></div></foreignObject><text x="528" y="724" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="11px">return HTTP status: 302 (redirect)...</text></switch></g><path d="M 26 767 L 1457.88 767" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1464.88 767 L 1457.88 770.5 L 1457.88 763.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 764px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">follow redirect to OpenId Provider /authorize</div></div></div></foreignObject><text x="37" y="764" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="11px">follow redirect...</text></switch></g><path d="M 1466 807 L 28.24 807" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 40.12 800.5 L 27.12 807 L 40.12 813.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 797px; margin-left: 1350px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Login Page</div></div></div></foreignObject><text x="1350" y="800" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="11px" text-anchor="middle">Login Page</text></switch></g><path d="M 26 847 L 1456.88 847" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1463.88 847 L 1456.88 850.5 L 1456.88 843.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 844px; margin-left: 136px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Login with OpenId Provider credentials</div></div></div></foreignObject><text x="136" y="844" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="11px" text-anchor="middle">Login with Open...</text></switch></g><path d="M 1466 1005 L 28.24 1005" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 36.12 1000.5 L 27.12 1005 L 36.12 1009.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1002px; margin-left: 1258px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">return HTTP status: 302 (redirect)<br />Location: <font color="#009900"><br />Cognito /oauth2/idpresponse</font><br />or<br /><font color="#3333ff">API GW /callback</font><br /><br /><font>code=authN_code&amp;<br />state=original<br />...<br /></font></div></div></div></foreignObject><text x="1258" y="1002" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="11px">return HTTP status: 302 (redirect)...</text></switch></g><path d="M 26 1046 L 497.88 1046" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 504.88 1046 L 497.88 1049.5 L 497.88 1042.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1043px; margin-left: 37px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: #0000FF; background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 255); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">follow redirect to API GW /callback</div></div></div></foreignObject><text x="37" y="1043" fill="#0000FF" font-family="Amazon Ember" font-size="11px">follow redirect...</text></switch></g><path d="M 526 1086 L 743.76 1086" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 731.88 1092.5 L 744.88 1086 L 731.88 1079.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1076px; margin-left: 636px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #0000FF; background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 255); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Trigger callback function</div></div></div></foreignObject><text x="636" y="1079" fill="#0000FF" font-family="Amazon Ember" font-size="11px" text-anchor="middle">Trigger callback function</text></switch></g><path d="M 766 1207 L 977.88 1207" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 984.88 1207 L 977.88 1210.5 L 977.88 1203.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1204px; margin-left: 868px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: #0000FF; background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 255); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">&lt;&lt;store authN_code &amp; code_verifier&gt;&gt;</div></div></div></foreignObject><text x="868" y="1204" fill="#0000FF" font-family="Amazon Ember" font-size="11px" text-anchor="middle">&lt;&lt;store authN_c...</text></switch></g><path d="M 746 1247 L 28.24 1247" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 36.12 1242.5 L 27.12 1247 L 36.12 1251.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1244px; margin-left: 528px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">return HTTP status: 302 (redirect)<br />Location: <font color="#3333ff">Cognito /oauth2/idpresponse<br /><br /><span style="">code=authN_code&amp;</span><br style="" /><span style="">state=original</span></font></div></div></div></foreignObject><text x="528" y="1244" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="11px">return HTTP status: 302 (redirect)...</text></switch></g><path d="M 286 1487 L 497.88 1487" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 504.88 1487 L 497.88 1490.5 L 497.88 1483.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1484px; margin-left: 308px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: #232F3D; background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(35, 47, 61); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><font color="#000000"><b>POST API-GW/token?<br /></b></font><blockquote><font color="#000000">base64 encoded body:<br />client_id=&amp;<br />redirect_uri=&amp;<br />code=authN_code</font><br /></blockquote><div style="text-align: center"><span style="">HTTP Request</span></div></div></div></div></foreignObject><text x="308" y="1484" fill="#232F3D" font-family="Amazon Ember" font-size="11px">POST API-GW/tok...</text></switch></g><path d="M 526 1527 L 743.76 1527" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 731.88 1533.5 L 744.88 1527 L 731.88 1520.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1517px; margin-left: 636px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><font color="#cc6600">Trigger token function</font></div></div></div></foreignObject><text x="636" y="1520" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="11px" text-anchor="middle">Trigger token function</text></switch></g><path d="M 766 1559 L 796 1559 L 796 1599 L 774.12 1599" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 767.12 1599 L 774.12 1595.5 L 774.12 1602.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1579px; margin-left: 800px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: #FF8000; background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(255, 128, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><font color="#cc6600">decode body &amp; read <br />original request parameters</font></div></div></div></foreignObject><text x="800" y="1582" fill="#FF8000" font-family="Amazon Ember" font-size="11px">decode body &amp; read...</text></switch></g><path d="M 774.12 1639.46 L 977.88 1639.02" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 767.12 1639.48 L 774.11 1635.96 L 774.13 1642.96 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 984.88 1639 L 977.89 1642.52 L 977.87 1635.52 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1629px; margin-left: 876px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><font color="#0000ff">get code_verifier with authN_code</font></div></div></div></foreignObject><text x="876" y="1633" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="11px" text-anchor="middle">get code_verifier with authN_c...</text></switch></g><path d="M 774.12 1679.47 L 1217.88 1679.01" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 767.12 1679.48 L 774.11 1675.97 L 774.12 1682.97 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1224.88 1679 L 1217.89 1682.51 L 1217.88 1675.51 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1669px; margin-left: 876px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><font color="#009900">get private key</font></div></div></div></foreignObject><text x="876" y="1673" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="11px" text-anchor="middle">get private key</text></switch></g><rect x="1231" y="1674" width="10" height="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><path d="M 766 2127 L 1457.88 2127" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1464.88 2127 L 1457.88 2130.5 L 1457.88 2123.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2124px; margin-left: 788px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">POST OpenId-Provider/token<br /><blockquote>urlencoded json in body:<br />client_id=original&amp;<br />grant_type=new&amp;<br />redirect_uri=new&amp;<br />code=authN_code&amp;<br /><b><font color="#00cc00">client_assertion=new&amp;</font></b><br /><b><font color="#00cc00">client_assertion_type=new&amp;</font></b><br /><b><font color="#0000ff">code_verifier=new</font></b><br /></blockquote><div style="text-align: center"><span style="">HTTP Request</span></div></div></div></div></foreignObject><text x="788" y="2124" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="11px">POST OpenId-Pro...</text></switch></g><path d="M 746 2367 L 288.24 2367" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 296.12 2362.5 L 287.12 2367 L 296.12 2371.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2364px; margin-left: 538px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">forward OpenId Provider response</div></div></div></foreignObject><text x="538" y="2364" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="11px">forward OpenId Provider response</text></switch></g><path d="M 266 2487 L 28.24 2487" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 36.12 2482.5 L 27.12 2487 L 36.12 2491.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2484px; margin-left: 58px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">return Cognito issued authN_code</div></div></div></foreignObject><text x="58" y="2484" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="11px">return Cognito issued authN_code</text></switch></g><path d="M 1466 2327 L 768.24 2327" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 776.12 2322.5 L 767.12 2327 L 776.12 2331.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2324px; margin-left: 1254px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">return HTTP status: 200 (OK)<br /><br />response includes:<br />id_token<br /><font>access_token<br />token_type<br />expires_in<br />...<br /></font></div></div></div></foreignObject><text x="1254" y="2324" fill="rgb(0, 0, 0)" font-family="Amazon Ember" font-size="11px">return HTTP status: 200 (OK)...</text></switch></g><rect x="16" y="0" width="230" height="80" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 40px; margin-left: 18px;"><div style="box-sizing: border-box; font-size: 0px; text-align: left;" data-drawio-colors="color: #0000FF; "><div style="display: inline-block; font-size: 11px; font-family: Amazon Ember; color: rgb(0, 0, 255); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font style="font-size: 13px"><b><font color="#3333ff">blue - specific to PKCE</font><br /><font color="#00cc00">green - specific to Private Key JWT<br /></font><font color="#cc6600">orange - specific to both</font><font color="#ff8000"><br /></font><font color="#232f3d">black - not specific</font></b></font></div></div></div></foreignObject><text x="18" y="43" fill="#0000FF" font-family="Amazon Ember" font-size="11px">blue - specific to PKCE...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>